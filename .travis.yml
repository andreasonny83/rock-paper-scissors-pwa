language: node_js
node_js:
- '7'
notifications:
  email: false
before_install:
- curl -o- -L https://yarnpkg.com/install.sh | bash
- sleep 1
before_script:
- npm rebuild phantomjs-prebuilt node-sass
- sleep 1
script:
- npm run lint
- npm run test:ci
before_deploy:
- npm install -g firebase-tools
- echo 'About to deploy live...'
- npm run build
deploy:
  provider: firebase
  skip_cleanup: true
  on:
    branch: master
    tags: true
  token:
    secure: qBYAwJIQYSonlzrBkoGrgvoh0gncH14TnwpikcWef8sVAMLauy2VcTXD8j00khSK4HC5qBJme4rBTXqLa7awbVtfCPETN72HmShySBEJAm9rbOg2GILugi9K0D8Ac5COC63c/jSb5qzmWtq3k3nhUGYm9IqaSjlXGJJPpj3KZ7YijleS+vmuCMoFl61V4rVpRqFQeaESpTs10nzqw8XIELdxasqe/Vb6G7YHYsEotCP42nlHTyZJGYbRn/pSSg+XlUPAbib1iTaY6p65XXlI3WTCo8mP1OoIvP/LOYpWjMGOPEQbvs95yG9R6AINVMKfeANZwd11TbJDSOTjTx/mRyLy569NqO1PaL8kBUdVmc2Skwr+ymnCJL/0o/auv5Hnhuwd+HHIMlP+jUDcwGi3Y6VCardPfnfrXIFgaxwCKzE+Hp/ETowz4C1NtOREkD86bJGxSikqF7FZUfPt9O7laH2GuQuYFf9wb3qzVPUOx79UvY2XoXdqSNBr59Y/1KYTIxiUncyPS1DxvtT5gI5NPpEtphORReNLbDkxXmU7qG2m6cluDV3kevFZgZOIIlX6D2jyquIFJktrt5HF9guCr+0/jkIq/rX30c4+Qn+w/HFGZ7IkzDyNpIO2GYwSyg6b2dTSmL6bN0hiKiIRtjVLU5BU1irqUWM4z6lMXEbJLOY=
  project: rock-paper-scissors-pwa
