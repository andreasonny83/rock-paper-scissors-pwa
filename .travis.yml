language: node_js
node_js:
- '7'
notifications:
  email: false
before_install:
- curl -o- -L https://yarnpkg.com/install.sh | bash
- sleep 1
before_script:
- npm rebuild phantomjs-prebuilt node-sass
- sleep 1
script:
- npm run lint
- npm run test:ci
before_deploy:
- npm install -g firebase-tools
- echo 'About to deploy live...'
- npm run build
deploy:
  provider: firebase
  skip_cleanup: true
  on:
    branch: master
    tags: true
  token:
    secure: OvBZlfqI9I5/tfQCwfa/toGmVhvwTefpbwTG5wsKawrM0Zgtd4q8bY2rY/SXYrl96zWRM3Wx+1qlJZPMKPDM6LA/22p3hQb+tZhN3JwhShtgPWXA0Q6TuOcBKNiS/RkUeN4Z7Z2aAhDiVNNLWDyU5Xsu/gUYWjPhcU5e3pCjJTeM1bUVzn6RB39M07aOLJmhTYt6TkzHMD+py7BZsXOpAtLoqsssz2AT5TiejeK8FJ038lNkTF3bPhv9fGXxp1YURE+AWIvRIGFRYv9F0olcewEr/iVbUV7Kfvt8UYAuCmK6N0EeSApcF1W928WHlED4aSy8GzHEBup6bfFTlTfG05KlP7N4EoUZ3oi/mE8Hzge3DDq+XukkpbNkFwsWENiGhGZswJB2M3fo84ZzLDIt719VBYvEurQ683UboXo+3+DkJbxAe4iHbMpg9A/i6piH9B7k7anLM8q0LRd5AmYyDOqqJlTpjs20lujNAQ8facK1yfNI4yGuzQSgGY+YCOaBFSH5QlJARVuUaMelkXpA4kmKYIQ9vln4NoJaEUJN7dFU+ggmzH97XqG1/Wy3d9WqxAt3JtJpkKb1+T9jgLCrejCI92bmmaPIIsdL++hWRJVld/UxUc7/uXHY/LYV+m4sf9kQhMDGVRApd3gPJr39NLXgH8eGw5mB2w6jcnewz0M=
  project: rock-paper-scissors-pwa
