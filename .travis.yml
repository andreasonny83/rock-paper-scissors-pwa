language: node_js
node_js:
- '7'
notifications:
  email: false
before_install:
- curl -o- -L https://yarnpkg.com/install.sh | bash
- sleep 1
before_script:
- npm rebuild phantomjs-prebuilt node-sass
- sleep 1
script:
- npm run lint
- npm run test:ci
before_deploy:
- npm install -g firebase-tools
- echo 'About to deploy live...'
- npm run build
deploy:
  provider: firebase
  skip_cleanup: true
  on:
    branch: master
    tags: true
  token:
    secure: N+r8wC2J5Z66t+ZknveBFWcbh6TIEB654UP+0Id8wFpgtsz9CrEDYX6CBBBxWJ7bRikx6LpSmXpJciBZ34WDisjQDAc2v0o3YlZ5/m/Upg0euIZu6NBKUnpoffC0EKO4L2BCOGSbXhN/5T2m10JD/eqgQaILBDJjOEOPUCDdbYMK5i6c47qCC8+0N10+PBPEFzQ+UT5bCnmTbtEAS47e1JgxLQDSAbGUDTzSf77JicgDVgqjzpkISspRFCfTy1pwnSEdw19IMbtJMbaCH4zFkN9cM3ht3VbRdmCdLBZQvLQ98ZISlAwUv3aLe3/ONxDbUmk1PCyRLSnisz1jij0ohI25/RL+2+wXmAwMEJeW6w+y3uUm4Zey3NgqNExP9Hq6qj+3+KU8JTFBVlAKL/2WvnYWjm6W/6i45PyWMSkgaK9esk7+EBcrX/x0UaAKPtxu0g3nLVA4PzWGaCPzWiEXSXqcJkaGSURnO4g1jw7I3JukvpKHTPLqmh8a3CwzB2k6UgrBclFuqwokh8R/96QYDDw0F7R06UtlAYFNklJ4uFLparpjHynNZw5Htz8QQLYsA+2nyR8Uroq6lY0+qzjmlj++mTeBAn8d5CrIEuF1S1f7PiAdzSqX3x0510ehZMOmL9RZzq9NHLSeMsFVvh5SCAmyvMFmQIWUOHjYv9BWL9Q=
  project: rock-paper-scissors-pwa
